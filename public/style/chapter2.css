@import url('https://fonts.googleapis.com/css2?family=Shippori+Mincho+B1&family=Cormorant+Garamond:wght@500&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400&display=swap');

* { margin:0; padding:0; box-sizing:border-box; }
body {
  background:#fdfaf6;
  color:#2b2b2b;
  font-family:"Shippori Mincho B1", serif;
  line-height:2;
  overflow-x:hidden;
}

/* === èƒŒæ™¯ç”»åƒ === */
.bg-image {
  position:fixed; inset:0;
  background:url('/assets/bg_ch2.jpg') center/cover no-repeat;
  filter:brightness(.72) blur(1.4px);
  z-index:-2;
}

/* === èƒŒæ™¯ã‚­ãƒ£ãƒ³ãƒã‚¹ï¼ˆç™½ãƒ¢ãƒ¤æ¼”å‡º OFFï¼‰=== */
canvas#ch2-bg {
  position: fixed;
  inset: 0;
  z-index: -1;
  opacity: 0;  /* â† èƒŒæ™¯ã«å¹²æ¸‰ã•ã›ãªã„ */
  pointer-events: none;
}

/* === ã‚¤ãƒ³ãƒˆãƒ­ === */
#chapter-intro {
  position:fixed;
  inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  z-index:10;
  background: none;
  opacity:1;
transition:
    opacity 2.8s ease,
    transform 3.2s ease;
}
#chapter-intro.fade-out {
  opacity: 0;
  transform: translateY(60px); /* ä¸‹ã¸æº¶ã‘ã‚‹ */
}
.intro-title span {
  font-family:"Cormorant Garamond", serif;
  font-size:3.8rem;
  color:#c58d3a;
  opacity:0;
  animation:fadeUp 2.2s ease forwards;
}
.intro-title span:nth-child(1){animation-delay:.5s;}
.intro-title span:nth-child(2){animation-delay:.7s;}
.intro-title span:nth-child(3){animation-delay:.9s;}
.intro-title span:nth-child(4){animation-delay:1.1s;}
.intro-title span:nth-child(5){animation-delay:1.3s;}
.intro-title span:nth-child(6){animation-delay:1.5s;}
.intro-title span:nth-child(7){animation-delay:1.7s;}

@keyframes fadeUp {
  0% { opacity:0; transform:translateY(40px); }
  100%{ opacity:1; transform:translateY(0); }
}

.intro-sub {
  font-size:1rem;
  color:rgba(100,80,50,.75);
  margin-top:1em;
  opacity:0;
  animation:fadeIn 2s ease 2.4s forwards;
}
@keyframes fadeIn { to { opacity:1; } }

/* å›ºå®šã‚¿ã‚¤ãƒˆãƒ«ï¼ˆæœ¬æ–‡ã¨ã®è·é›¢ã‚’ç¸®ã‚ã‚‹ï¼‰ */
.chapter-title-fixed {
  font-size:1rem;
  color:#c58d3a;
  text-shadow:
    0 14px 38px rgba(0,0,0,0.10),
    0 0 1px rgba(255,255,255,0.3) inset;
  text-align:center;
  font-family:"Cormorant Garamond", serif;
  font-size:1.35rem;
  margin: 10vh 0 -8vh 0; /* â† 10vh â†’ 6vh ã«ç¸®ã‚ãŸ */
  opacity:0;
  transition:opacity 1.6s ease;
}
/* === æœ¬æ–‡ãƒ©ãƒƒãƒ‘(é€æ˜) === */
/* æœ¬æ–‡ãƒ©ãƒƒãƒ‘ãƒ¼ï¼šèƒŒæ™¯ãªã—ï¼é€éã®ã¿ */
.chapter-text {
  background: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;

  border-radius: 0;
  box-shadow: none;

  padding: 0; /* â† é«˜ã•ã¯ text-box ãŒç®¡ç† */
  margin: 8vh auto 14vh;
  max-width: 760px;
  opacity: 0;
  transition: opacity 1.2s ease;
  font-size:1.1rem
}

/* ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ */
body.ready .chapter-text {
  opacity: 1;
}


/* === ç´™èƒŒæ™¯ã‚«ãƒ¼ãƒ‰ === */
/* === ç´™èƒŒæ™¯ã‚«ãƒ¼ãƒ‰ï¼ˆè¶…é€æ˜ï¼‹ç¸¦é•·ï¼‹ç¾æ§‹æˆï¼‰ === */
.text-box {
  background: rgba(255,255,255,0.58); /* â† é€æ˜åº¦ã‚¢ãƒƒãƒ— */
  backdrop-filter: blur(1.8px);
  -webkit-backdrop-filter: blur(1.8px);

  border-radius: 14px;
  padding: 8vh 7%; /* â† ä¸­å¤®å¯„ã›ãƒ»ç¸¦é•·å¼·åŒ– */
  margin: 18vh auto 18vh;

  max-width: 670px;
  min-height: 80vh; /* â† ç¾ã—ã„ç¸¦é•·æ¯”ç‡ */

  border:1px solid rgba(200,170,140,0.22);

  /* âœ… ç´™ã®ã‚¶ãƒ©ã¤ãã¯æ®‹ã™ */
  background-image:
    radial-gradient(rgba(0,0,0,0.035) 1px, transparent 1px);
  background-size:4px 4px;

  /* âœ… æµ®éŠæ„Ÿã‚’å¼·èª¿ */
  box-shadow:
    0 14px 38px rgba(0,0,0,0.10),
    0 0 1px rgba(255,255,255,0.3) inset;

  opacity:0;
  transition:opacity 1.2s ease;
}


/* === è¡¨ç¤ºãƒˆãƒªã‚¬ãƒ¼ === */
body.ready .chapter-title-fixed,
body.ready .chapter-text,
body.ready .text-box {
  opacity:1;
}

/* === ãƒã‚¢ã®å°è©æ¼”å‡º === */
.noah {
  color:#574c38;
  font-family:"Fira Code", monospace;
  font-size:1.05rem;
}
.noah .em {
  display:inline-block;
  animation:wobble 2.2s ease-in-out infinite;
  font-weight:600;
  color:#6b5843;
}
@keyframes wobble {
  0%,100% { transform:translateY(0); opacity:1; }
  45% { transform:translateY(-1.5px); opacity:.92; }
  60% { transform:translateY(.8px); opacity:.95; }
}

/* === æ¬¡ç« ãƒªãƒ³ã‚¯ === */
.next-chapter {
  display:block;
  text-align:center;
  margin-top:3rem;
  font-family:"Cormorant Garamond", serif;
  text-decoration:none;
  font-size:1.15rem;
  color:#2b2b2b;
  letter-spacing:0.07em;
}
.next-chapter:hover { color:#d8a764; }
.story-break {
  margin: 2.5em 0;
  font-style: italic;
  opacity: .88;
}

.thinking {
  margin-top: 3em;
  margin-bottom: 4.2em;
}
/* æœ¬æ–‡ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ï¼ˆãµã‚ã£ã¨ï¼‰ */
body.ready .chapter-text {
  opacity: 1;
  transform: translateY(0); /* ãµã‚ã£ã¨ä¸ŠãŒã£ã¦ãã‚‹ */
}

.chapter-text {
  transform: translateY(30px); /* åˆæœŸä½ç½®ï¼ˆä¸‹ã«ã‚ºãƒ©ã™ï¼‰ */
  transition:
    opacity 1.8s ease,
    transform 2.4s ease;
}
/* ===============================
   ğŸ“± Responsive (ã‚¹ãƒãƒ›æœ€é©åŒ–)
   =============================== */
@media screen and (max-width: 768px) {
  body {
    font-size: 15px;
    line-height: 1.9;
  }

  /* === èƒŒæ™¯ === */
  .bg-image {
    filter: brightness(0.85) blur(1px);
    background-position: center top;
    background-attachment: scroll;
  }

  /* === ã‚¤ãƒ³ãƒˆãƒ­ã‚¿ã‚¤ãƒˆãƒ« === */
  .intro-title span {
    font-size: 2.4rem; /* â† 3.8rem â†’ 2.4remã«ç¸®å° */
    line-height: 1.2;
    text-align: center;
  }

  .intro-sub {
    font-size: 0.85rem;
    margin-top: 0.8em;
    letter-spacing: 0.1em;
  }

  /* === å›ºå®šã‚¿ã‚¤ãƒˆãƒ« === */
  .chapter-title-fixed {
    font-size: 1.05rem;
    margin: 6vh 0 -4vh 0;
    line-height: 1.5;
  }

  /* === æœ¬æ–‡ã‚¨ãƒªã‚¢ === */
  .chapter-text {
    max-width: 90%;
    margin: 6vh auto 10vh;
    font-size: 0.95rem;
  }

  /* === ç´™ã‚«ãƒ¼ãƒ‰ === */
  .text-box {
    padding: 6vh 6%;
    margin: 10vh auto 10vh;
    min-height: 70vh;
    max-width: 92%;
    border-radius: 10px;
    background: rgba(255,255,255,0.65);
    backdrop-filter: blur(2px);
  }

  /* === ãƒã‚¢ã®å°è© === */
  .noah {
    font-size: 0.9rem;
    line-height: 1.8;
    word-break: break-word;
  }

  .noah .em {
    animation: wobble 2.4s ease-in-out infinite;
  }

  /* === æ¬¡ç« ãƒªãƒ³ã‚¯ === */
  .next-chapter {
    font-size: 1rem;
    margin-top: 2.4rem;
    letter-spacing: 0.05em;
  }

  .story-break {
    margin: 2em 0;
    font-size: 0.9rem;
  }

  .thinking {
    margin-top: 2em;
    margin-bottom: 3em;
  }
}
/* ===============================
   ğŸ“± SmartPhone Optimization
   =============================== */
@media (max-width: 768px) {
  body {
    line-height: 1.9;
    font-size: 0.95rem;
    overflow-x: hidden;
  }

  .chapter-text {
    max-width: 92%;
    padding: 10vh 5% 12vh;
    font-size: 0.95rem;
  }

  .chapter-title,
  .chapter-title-fixed {
    font-size: 1.5rem !important;
    top: 8vh;
  }

  .intro-title span {
    font-size: 2.2rem !important;
  }

  .intro-sub {
    font-size: 0.85rem;
  }

  .next-chapter {
    font-size: 1rem;
    margin-top: 3rem;
  }

  /* èƒŒæ™¯ãƒˆãƒªãƒŸãƒ³ã‚°é˜²æ­¢ */
  .bg-image,
  .memory-bg,
  .bg-lab {
    background-position: center center !important;
    background-size: contain !important; /* cover â†’ contain */
    filter: brightness(0.9) contrast(1.05);
  }
}
.intro-title {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}
